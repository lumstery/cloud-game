<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="orientation" content="portrait">

    <meta property="og:type" content="cloud-game"/>
    <meta property="og:title" content="Web-based Cloud Gaming for Retro Games"/>
    <meta property="og:description" content="Play and share cloud gaming experience with your friends"/>
    <meta property="og:url" content=""/>
    <meta property="og:site_name" content="Cloud Retro"/>
    <meta property="og:author" content="giongto35 trichimtrich"/>

    <link rel="icon" href="data:,">

    <link href="css/main.css?v=3" rel="stylesheet">
    <link href="css/ui.css?v=3" rel="stylesheet">
    <title>Cloud Retro</title>
</head>
<body>
<div id="gamebody">
    <!-- Phone status bar -->
    <div id="phone-status">
        <div>Signal ▮▮▮▯</div>
        <div>Battery ▮▮▮▯</div>
    </div>
    
    <div id="screen">
        <video id="stream" class="game-screen" hidden muted playsinline preload="none"></video>
        <canvas id="mirror-stream" class="game-screen" hidden></canvas>
        <div id="menu-screen">
            <div id="menu-container"></div>
        </div>
        <div class="screen__footer hover hidden">
            <div>cloudretro</div>
            <div class="app-button fs kbm-button-fs hidden" id="kbm2"
                 title="Switch from keyboard/mouse to retropad">🎮+⌨️+🖱️
            </div>
            <div id="stats-overlay"></div>
        </div>
        <div id="play-stream" hidden>
            <span>⏵</span>
            <span>Click to play</span>
        </div>
    </div>

    <div id="servers"></div>
    <div id="settings"></div>

    <!-- Mobile phone keypad UI -->
    <div id="phone-keypad">
        <!-- Soft keys at the top -->
        <div class="phone-key phone-softkey phone-softkey-left" data-key="select">-</div>
        <div class="phone-key phone-softkey" style="visibility: hidden;"></div>
        <div class="phone-key phone-softkey phone-softkey-right" data-key="start">-</div>
        
        <!-- Navigation pad -->
        <div class="key-nav">
            <div class="key-up" data-key="up">▲</div>
            <div class="key-left" data-key="left">◀</div>
            <div class="key-center" data-key="a" data-alt-key="5">OK</div>
            <div class="key-right" data-key="right">▶</div>
            <div class="key-down" data-key="down">▼</div>
        </div>
        
        <!-- Numeric keypad -->
        <div class="phone-key" data-key="1">1</div>
        <div class="phone-key" data-key="2">2</div>
        <div class="phone-key" data-key="3">3</div>
        
        <div class="phone-key" data-key="4">4</div>
        <div class="phone-key" data-key="5">5</div>
        <div class="phone-key" data-key="6">6</div>
        
        <div class="phone-key" data-key="7">7</div>
        <div class="phone-key" data-key="8">8</div>
        <div class="phone-key" data-key="9">9</div>
        
        <div class="phone-key key-func" data-key="*">*</div>
        <div class="phone-key" data-key="0">0</div>
        <div class="phone-key key-func" data-key="#">#</div>
    </div>

    <input id="room-txt" type="text" aria-label="" placeholder="room id..." disabled>

    <div id="noti-box">Oh my god</div>

    <div id="help-overlay" class="hidden">
        <div id="help-overlay-background"></div>
        <div id="help-overlay-detail"></div>
    </div>
    
    <!-- Side buttons for phone hardware functions -->
    <div class="side-button side-button-left" data-key="select" data-label="Menu"></div>
    <div class="side-button side-button-right" data-key="settings" data-label="Settings"></div>
    <div class="side-button side-button-right side-button-start" data-key="start" data-label="Start/Pause"></div>
    <div class="side-button side-button-right side-button-options" data-key="options" data-label="Options"></div>
    <div class="side-button side-button-right side-button-quit" data-key="quit" data-label="Quit"></div>
    <div class="side-button side-button-left side-button-workers" data-key="workers" data-label="Workers"></div>
    <div class="side-button side-button-right side-button-help" data-key="help" data-label="Help"></div>
    
    
</div>
<div class="source"><span>Cloudretro (ɔ) 2025</span>
    <a rel="noopener noreferrer" target="_blank" href="https://github.com/giongto35/cloud-game">
        <span id="v">69ff8ae</span>
    </a>
</div>

<script type="importmap">
    {
      "imports": {
        "api": "./js/api.js?v=3",
        "env": "./js/env.js?v=3",
        "event": "./js/event.js?v=3",
        "gui": "./js/gui.js?v=3",
        "input": "./js/input/input.js?v=3",
        "log": "./js/log.js?v=3",
        "network": "./js/network/network.js?v=3",
        "settings": "./js/settings.js?v=3",
        "utils": "./js/utils.js?v=3"
      }
    }
</script>

<script type="module" src="js/app.js?v=3"></script>

{{if .Analytics.Inject}}
<script async src="https://www.googletagmanager.com/gtag/js?id={{.Analytics.Gtag}}"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '{{.Analytics.Gtag}}');
</script>
{{end}}
</body>
</html>
